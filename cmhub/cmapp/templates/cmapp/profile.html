{% extends 'cmapp/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
<div class="row">
<div class="col-8">
<br>
    <h2 style="margin-left:50px;">Your coordinates :</h2>

    <div class="col-md-6" style="margin-top:20px;margin-bottom:20px;">
      <div class="card card-chart" style="border-radius: 30px;">
        <div class="card-header" style="border-radius: 40px;">Your info, {{user.username}}</div>
        <div class="card-body">
          <p class="card-category">
            Your Username : {{user.username}}
          </p>
          <p class="card-category">
            Your Email : {{user.email}}
          </p>
          <div class="row">
          <div class="col-md-6">
          <div class="d-flex justify-content-between align-items-center">
            <a href="{% url 'delete_user' pk=user.username %}" class="btn btn-primary" style="margin-left: 10px;" type="submit" id="header-links"> Delete Account </a>
          </div>
          </div>
          <div class="col-md-6">
          <div class="d-flex justify-content-between align-items-center">
            <a href="{% url 'edit_profile' %}" class="btn btn-primary" style="margin-left: 10px;" type="submit" id="header-links"> Edit Account </a>
          </div>
          </div>
        </div>
        </div>
        <div class="card-footer" style="border-radius: 30px;">
          <div class="stats"> Your profile ID is : {{ user.pk }}
          </div>
        </div>
      </div>
    </div>
    
</div>
<div class="col-4">
<br>
<br>
<br>
<br>
<img src="http://127.0.0.1:8000/media/bou9.jpg" style="margin-left: -140px" class="img-thumbnail" alt="Responsive image">
</div>
</div>
  <br>
  <h2 style="margin-left:50px;">Your posts :</h2>
  {% if posts.count == 0 %}
  <div class="row" style="background-color:white;margin:40px;border-radius: 30px;">
  <h1>You have no posts</h1>
  </div>
  {% else %}
  <div class="row" style="background-color:white;margin:40px;border-radius: 30px;">
  <div class="row" style="margin-top:50px;margin-bottom:40px;margin-left:2px;">
    {% for post in posts %}
    <div class="col-md-4" style="margin-top:20px;margin-bottom:20px;">
      <div class="card card-chart" style="border-radius: 30px;">
        <div class="card-header" style="border-radius: 40px;">Post ID : {{post.pk}}, Made By {{post.owner}}</div>
        <div class="card-body">
          <h5 class="card-title">Info about the corresponding account</h5>
          <p class="card-category">
            Number Of Followers: {{post.numberoffollowers}}
          </p>
          <p class="card-category">
            Number Of Following: {{post.numberoffollowing}}
          </p>
          <p class="card-category">
            Number Of Tweets: {{post.numberoftweets}}
          </p>
          <h5 class="card-title">Info about the post</h5>
          <p class="card-category">
            Post has picture ? {{post.picture}}
          </p>
          <p class="card-category">
            Post has video ? {{post.video}}
          </p>
          <p class="card-category">
            Content of post : {{post.content}}
          </p>
          <div class="d-flex justify-content-between align-items-center">
            <a
              href="{% url 'display_post' pk=post.pk %}"
              class="btn"
              style="color: white;margin-left: 10px;background-color: rgb(29,161,242);"
              type="submit"
              id="header-links"
            >
              Display Post
            </a>
          </div>
        </div>
        <div class="card-footer" style="border-radius: 30px;">
          <div class="stats"> posted on {{ post.created_at }}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}
</div>
{% endblock %}